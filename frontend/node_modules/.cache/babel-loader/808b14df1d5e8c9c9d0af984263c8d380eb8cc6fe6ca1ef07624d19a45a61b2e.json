{"ast":null,"code":"import React,{useState,useCallback}from'react';import ReactFlow,{MiniMap,Controls,Background,Handle,useNodesState,useEdgesState,addEdge}from'react-flow-renderer';// =============== ESTILOS ===============\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const sidebarStyles={width:'260px',backgroundColor:'#fff',borderRadius:'8px',padding:'20px',margin:'10px',boxShadow:'0 2px 4px rgba(0,0,0,0.1)'};const flowContainerStyles={flex:1,height:'100%',position:'relative',overflow:'hidden'};const nodeStyles={base:{padding:'20px',backgroundColor:'#fff',borderRadius:'8px',border:'2px solid #2684ff',minWidth:'300px',boxShadow:'0 4px 6px rgba(0, 0, 0, 0.1)',position:'relative',display:'flex',flexDirection:'column',alignItems:'center'},input:{margin:'10px 0',padding:'8px',width:'100%',borderRadius:'4px',border:'1px solid #ddd'},section:{margin:'15px 0',padding:'10px',backgroundColor:'#f8f9fa',borderRadius:'6px',width:'100%'},select:{width:'100%',padding:'8px',margin:'5px 0'},deleteButton:{background:'red',color:'white',border:'none',borderRadius:'50%',width:'24px',height:'24px',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',marginTop:'10px'}};const handleStyle={width:'15px',height:'15px',backgroundColor:'#2684ff',border:'2px solid #fff',borderRadius:'50%'};const chipStyle={margin:'5px',padding:'6px 12px',border:'1px solid #ddd',borderRadius:'20px',background:'#f8f9fa',cursor:'pointer',fontSize:'14px'};// =============== COMPONENTES DE N√ìS ===============\nconst MessageNode=/*#__PURE__*/React.memo(_ref=>{let{id,data}=_ref;return/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.base,children:[/*#__PURE__*/_jsx(Handle,{type:\"target\",position:\"left\",style:handleStyle}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCAC Mensagem\"}),/*#__PURE__*/_jsx(\"textarea\",{style:{...nodeStyles.input,height:'100px'},value:data.content,onChange:e=>data.updateContent(e.target.value),placeholder:\"Escreva sua mensagem...\"}),/*#__PURE__*/_jsx(\"button\",{style:nodeStyles.deleteButton,onClick:()=>data.onDelete(id),children:\"\\uD83D\\uDDD1\\uFE0F\"}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:\"right\",style:handleStyle})]});});const QuestionNode=/*#__PURE__*/React.memo(_ref2=>{let{id,data}=_ref2;const handleOptionChange=(index,value)=>{const newOptions=[...data.options];newOptions[index]=value;data.updateOptions(newOptions);};return/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.base,children:[/*#__PURE__*/_jsx(Handle,{type:\"target\",position:\"left\",style:handleStyle}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\u2753 Pergunta\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",style:nodeStyles.input,value:data.question,onChange:e=>data.updateQuestion(e.target.value),placeholder:\"Digite a pergunta\"}),/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.section,children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Op\\xE7\\xF5es de Resposta:\"}),data.options.map((opt,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{margin:'5px 0',position:'relative'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:opt,style:{...nodeStyles.input,width:'80%'},onChange:e=>handleOptionChange(index,e.target.value)}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:\"right\",id:`option-${index}`,style:{...handleStyle,right:'-8px',top:'50%',transform:'translateY(-50%)'}})]},index)),/*#__PURE__*/_jsx(\"button\",{onClick:data.addOption,children:\"+ Adicionar Op\\xE7\\xE3o\"})]}),/*#__PURE__*/_jsx(\"button\",{style:nodeStyles.deleteButton,onClick:()=>data.onDelete(id),children:\"\\uD83D\\uDDD1\\uFE0F\"})]});});const MediaNode=/*#__PURE__*/React.memo(_ref3=>{let{id,data}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.base,children:[/*#__PURE__*/_jsx(Handle,{type:\"target\",position:\"left\",style:handleStyle}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDDBC\\uFE0F M\\xEDdia\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>data.handleFileUpload(e.target.files[0]),style:nodeStyles.input}),/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.section,children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Ou insira URL:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:data.url,onChange:e=>data.updateUrl(e.target.value),placeholder:\"https://exemplo.com/imagem.jpg\",style:nodeStyles.input})]}),/*#__PURE__*/_jsx(\"button\",{style:nodeStyles.deleteButton,onClick:()=>data.onDelete(id),children:\"\\uD83D\\uDDD1\\uFE0F\"}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:\"right\",style:handleStyle})]});});const ConditionNode=/*#__PURE__*/React.memo(_ref4=>{let{id,data}=_ref4;return/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.base,children:[/*#__PURE__*/_jsx(Handle,{type:\"target\",position:\"left\",style:handleStyle}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\u2696\\uFE0F Condi\\xE7\\xE3o\"}),/*#__PURE__*/_jsxs(\"select\",{value:data.conditionType,onChange:e=>data.updateConditionType(e.target.value),style:nodeStyles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"cadastro\",children:\"Verificar Cadastro\"}),/*#__PURE__*/_jsx(\"option\",{value:\"valor\",children:\"Comparar Valores\"})]}),data.conditionType==='cadastro'&&/*#__PURE__*/_jsx(\"div\",{style:nodeStyles.section,children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:data.field,onChange:e=>data.updateField(e.target.value),placeholder:\"Campo para verifica\\xE7\\xE3o (ex: PHONE)\",style:nodeStyles.input})}),data.conditionType==='valor'&&/*#__PURE__*/_jsx(\"div\",{style:nodeStyles.section,children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:data.comparison,onChange:e=>data.updateComparison(e.target.value),placeholder:\"Express\\xE3o (ex: VALUE > 100)\",style:nodeStyles.input})}),/*#__PURE__*/_jsx(\"button\",{style:nodeStyles.deleteButton,onClick:()=>data.onDelete(id),children:\"\\uD83D\\uDDD1\\uFE0F\"}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:\"right\",id:\"true\",style:{...handleStyle,top:'30%'}}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:\"right\",id:\"false\",style:{...handleStyle,top:'70%'}})]});});const IntervalNode=/*#__PURE__*/React.memo(_ref5=>{let{id,data}=_ref5;return/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.base,children:[/*#__PURE__*/_jsx(Handle,{type:\"target\",position:\"left\",style:handleStyle}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\u23F1\\uFE0F Intervalo\"}),/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.section,children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:data.duration,onChange:e=>data.updateDuration(e.target.value),placeholder:\"Dura\\xE7\\xE3o em segundos\",min:\"1\",max:\"7200\",style:nodeStyles.input}),/*#__PURE__*/_jsx(\"small\",{children:\"M\\xE1ximo: 2 horas (7200 segundos)\"})]}),/*#__PURE__*/_jsx(\"button\",{style:nodeStyles.deleteButton,onClick:()=>data.onDelete(id),children:\"\\uD83D\\uDDD1\\uFE0F\"}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:\"right\",style:handleStyle})]});});const ChatGPTNode=/*#__PURE__*/React.memo(_ref6=>{let{id,data}=_ref6;return/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.base,children:[/*#__PURE__*/_jsx(Handle,{type:\"target\",position:\"left\",style:handleStyle}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83E\\uDD16 Chat GPT\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:data.apiKey,onChange:e=>data.updateApiKey(e.target.value),placeholder:\"Insira sua API Key da OpenAI\",style:nodeStyles.input}),/*#__PURE__*/_jsx(\"textarea\",{value:data.instructions,onChange:e=>data.updateInstructions(e.target.value),placeholder:\"Instru\\xE7\\xF5es para o assistente...\",style:{...nodeStyles.input,height:'100px'}}),/*#__PURE__*/_jsx(\"button\",{style:nodeStyles.deleteButton,onClick:()=>data.onDelete(id),children:\"\\uD83D\\uDDD1\\uFE0F\"}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:\"right\",style:handleStyle})]});});const APINode=/*#__PURE__*/React.memo(_ref7=>{let{id,data}=_ref7;return/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.base,children:[/*#__PURE__*/_jsx(Handle,{type:\"target\",position:\"left\",style:handleStyle}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83C\\uDF10 API Externa\"}),/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.section,children:[/*#__PURE__*/_jsxs(\"select\",{value:data.method,onChange:e=>data.updateMethod(e.target.value),style:nodeStyles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"GET\",children:\"GET\"}),/*#__PURE__*/_jsx(\"option\",{value:\"POST\",children:\"POST\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PUT\",children:\"PUT\"}),/*#__PURE__*/_jsx(\"option\",{value:\"DELETE\",children:\"DELETE\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:data.url,onChange:e=>data.updateUrl(e.target.value),placeholder:\"URL da API\",style:nodeStyles.input})]}),/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.section,children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Cabe\\xE7alhos:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:data.headers,onChange:e=>data.updateHeaders(e.target.value),placeholder:\"JSON de cabe\\xE7alhos\",style:{...nodeStyles.input,height:'80px'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.section,children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Corpo da Requisi\\xE7\\xE3o:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:data.body,onChange:e=>data.updateBody(e.target.value),placeholder:\"JSON do corpo\",style:{...nodeStyles.input,height:'100px'}})]}),/*#__PURE__*/_jsx(\"button\",{style:nodeStyles.deleteButton,onClick:()=>data.onDelete(id),children:\"\\uD83D\\uDDD1\\uFE0F\"}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:\"right\",style:handleStyle})]});});const UpdateCRMNode=/*#__PURE__*/React.memo(_ref8=>{let{id,data}=_ref8;return/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.base,children:[/*#__PURE__*/_jsx(Handle,{type:\"target\",position:\"left\",style:handleStyle}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDD04 Atualizar CRM\"}),/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.section,children:[/*#__PURE__*/_jsxs(\"select\",{value:data.entity,onChange:e=>data.updateEntity(e.target.value),style:nodeStyles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"lead\",children:\"Lead\"}),/*#__PURE__*/_jsx(\"option\",{value:\"deal\",children:\"Neg\\xF3cio\"}),/*#__PURE__*/_jsx(\"option\",{value:\"contact\",children:\"Contato\"}),/*#__PURE__*/_jsx(\"option\",{value:\"company\",children:\"Empresa\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:data.field,onChange:e=>data.updateField(e.target.value),placeholder:\"Campo para atualizar\",style:nodeStyles.input}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:data.value,onChange:e=>data.updateValue(e.target.value),placeholder:\"Novo valor\",style:nodeStyles.input})]}),/*#__PURE__*/_jsx(\"button\",{style:nodeStyles.deleteButton,onClick:()=>data.onDelete(id),children:\"\\uD83D\\uDDD1\\uFE0F\"}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:\"right\",style:handleStyle})]});});const CreateRecordNode=/*#__PURE__*/React.memo(_ref9=>{let{id,data}=_ref9;return/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.base,children:[/*#__PURE__*/_jsx(Handle,{type:\"target\",position:\"left\",style:handleStyle}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCDD Criar Cadastro\"}),/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.section,children:[/*#__PURE__*/_jsxs(\"select\",{value:data.entity,onChange:e=>data.updateEntity(e.target.value),style:nodeStyles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"lead\",children:\"Lead\"}),/*#__PURE__*/_jsx(\"option\",{value:\"deal\",children:\"Neg\\xF3cio\"}),/*#__PURE__*/_jsx(\"option\",{value:\"contact\",children:\"Contato\"}),/*#__PURE__*/_jsx(\"option\",{value:\"company\",children:\"Empresa\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:data.stage,onChange:e=>data.updateStage(e.target.value),style:nodeStyles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"new\",children:\"Novo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"qualified\",children:\"Qualificado\"}),/*#__PURE__*/_jsx(\"option\",{value:\"proposal\",children:\"Proposta\"}),/*#__PURE__*/_jsx(\"option\",{value:\"closed\",children:\"Fechado\"})]}),/*#__PURE__*/_jsx(\"textarea\",{value:data.fields,onChange:e=>data.updateFields(e.target.value),placeholder:\"Campos (JSON)\",style:{...nodeStyles.input,height:'150px'}})]}),/*#__PURE__*/_jsx(\"button\",{style:nodeStyles.deleteButton,onClick:()=>data.onDelete(id),children:\"\\uD83D\\uDDD1\\uFE0F\"}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:\"right\",style:handleStyle})]});});const TransferNode=/*#__PURE__*/React.memo(_ref10=>{let{id,data}=_ref10;return/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.base,children:[/*#__PURE__*/_jsx(Handle,{type:\"target\",position:\"left\",style:handleStyle}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDD00 Transferir\"}),/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center'},children:\"Exemplo de n\\xF3 de transfer\\xEAncia\"}),/*#__PURE__*/_jsx(\"button\",{style:nodeStyles.deleteButton,onClick:()=>data.onDelete(id),children:\"\\uD83D\\uDDD1\\uFE0F\"}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:\"right\",style:handleStyle})]});});const ScheduleNode=/*#__PURE__*/React.memo(_ref11=>{let{id,data}=_ref11;return/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.base,children:[/*#__PURE__*/_jsx(Handle,{type:\"target\",position:\"left\",style:handleStyle}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\u23F0 Hor\\xE1rio\"}),/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center'},children:\"Exemplo de n\\xF3 de agendamento\"}),/*#__PURE__*/_jsx(\"button\",{style:nodeStyles.deleteButton,onClick:()=>data.onDelete(id),children:\"\\uD83D\\uDDD1\\uFE0F\"}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:\"right\",style:handleStyle})]});});const EndNode=/*#__PURE__*/React.memo(_ref12=>{let{id,data}=_ref12;return/*#__PURE__*/_jsxs(\"div\",{style:nodeStyles.base,children:[/*#__PURE__*/_jsx(Handle,{type:\"target\",position:\"left\",style:handleStyle}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83C\\uDFC1 Finalizar\"}),/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center'},children:\"Exemplo de n\\xF3 de finaliza\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"button\",{style:nodeStyles.deleteButton,onClick:()=>data.onDelete(id),children:\"\\uD83D\\uDDD1\\uFE0F\"}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:\"right\",style:handleStyle})]});});const nodeTypes={message:MessageNode,question:QuestionNode,media:MediaNode,condition:ConditionNode,interval:IntervalNode,chatgpt:ChatGPTNode,api:APINode,updateCRM:UpdateCRMNode,createRecord:CreateRecordNode,transfer:TransferNode,schedule:ScheduleNode,end:EndNode};export default function FlowEditor(){const[nodes,setNodes,onNodesChange]=useNodesState([]);const[edges,setEdges,onEdgesChange]=useEdgesState([]);const[idCounter,setIdCounter]=useState(0);const onConnect=useCallback(params=>setEdges(eds=>addEdge(params,eds)),[setEdges]);const isValidConnection=useCallback(connection=>{const sourceNode=nodes.find(node=>node.id===connection.source);if((sourceNode===null||sourceNode===void 0?void 0:sourceNode.type)==='question'||(sourceNode===null||sourceNode===void 0?void 0:sourceNode.type)==='condition'){return true;}const hasExistingConnection=edges.some(edge=>edge.source===connection.source);return!hasExistingConnection;},[nodes,edges]);const deleteNode=useCallback(nodeId=>{setNodes(nds=>nds.filter(node=>node.id!==nodeId));setEdges(eds=>eds.filter(edge=>edge.source!==nodeId&&edge.target!==nodeId));},[setNodes,setEdges]);const updateNode=useCallback((nodeId,newData)=>{setNodes(prevNodes=>prevNodes.map(node=>node.id===nodeId?{...node,data:{...node.data,...newData}}:node));},[setNodes]);const createNode=useCallback((type,initialData)=>{const nodeId=`${type}-${idCounter}`;setIdCounter(prev=>prev+1);const updateFunctions={message:{updateContent:content=>updateNode(nodeId,{content}),onDelete:deleteNode},question:{updateQuestion:question=>updateNode(nodeId,{question}),addOption:()=>{setNodes(prevNodes=>prevNodes.map(node=>node.id===nodeId?{...node,data:{...node.data,options:[...(node.data.options||[]),`Op√ß√£o ${node.data.options?node.data.options.length+1:1}`]}}:node));},updateOptions:options=>updateNode(nodeId,{options}),onDelete:deleteNode},media:{handleFileUpload:file=>updateNode(nodeId,{file}),updateUrl:url=>updateNode(nodeId,{url}),onDelete:deleteNode},condition:{updateConditionType:conditionType=>updateNode(nodeId,{conditionType}),updateField:field=>updateNode(nodeId,{field}),updateComparison:comparison=>updateNode(nodeId,{comparison}),onDelete:deleteNode},interval:{updateDuration:duration=>updateNode(nodeId,{duration}),onDelete:deleteNode},chatgpt:{updateApiKey:apiKey=>updateNode(nodeId,{apiKey}),updateInstructions:instructions=>updateNode(nodeId,{instructions}),onDelete:deleteNode},api:{updateMethod:method=>updateNode(nodeId,{method}),updateUrl:url=>updateNode(nodeId,{url}),updateHeaders:headers=>updateNode(nodeId,{headers}),updateBody:body=>updateNode(nodeId,{body}),onDelete:deleteNode},updateCRM:{updateEntity:entity=>updateNode(nodeId,{entity}),updateField:field=>updateNode(nodeId,{field}),updateValue:value=>updateNode(nodeId,{value}),onDelete:deleteNode},createRecord:{updateEntity:entity=>updateNode(nodeId,{entity}),updateStage:stage=>updateNode(nodeId,{stage}),updateFields:fields=>updateNode(nodeId,{fields}),onDelete:deleteNode},transfer:{onDelete:deleteNode},schedule:{onDelete:deleteNode},end:{onDelete:deleteNode}};const newNode={id:nodeId,type,data:{...initialData,...updateFunctions[type]},position:{x:Math.random()*400,y:Math.random()*400}};setNodes(nds=>[...nds,newNode]);},[idCounter,updateNode,deleteNode,setNodes]);const categories=[{title:'Conversa',items:[{label:'Mensagem',nodeType:'message',initialData:{content:''}},{label:'Pergunta',nodeType:'question',initialData:{question:'',options:[]}},{label:'M√≠dia',nodeType:'media',initialData:{url:''}}]},{title:'A√ß√µes do chat',items:[{label:'Condi√ß√£o',nodeType:'condition',initialData:{conditionType:'cadastro',field:'',comparison:''}},{label:'Transferir',nodeType:'transfer',initialData:{}},{label:'Hor√°rio',nodeType:'schedule',initialData:{}},{label:'Finalizar',nodeType:'end',initialData:{}},{label:'Intervalo',nodeType:'interval',initialData:{duration:1}}]},{title:'Integra√ß√µes',items:[{label:'Chat GPT',nodeType:'chatgpt',initialData:{apiKey:'',instructions:''}},{label:'API Externa',nodeType:'api',initialData:{method:'GET',url:'',headers:'',body:''}}]},{title:'Bitrix',items:[{label:'Atualizar CRM',nodeType:'updateCRM',initialData:{entity:'lead',field:'',value:''}},{label:'Criar Cadastro',nodeType:'createRecord',initialData:{entity:'lead',stage:'new',fields:''}}]}];function CategoryBlock(_ref13){let{title,items}=_ref13;return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginBottom:'10px'},children:title}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap'},children:items.map(item=>/*#__PURE__*/_jsx(\"button\",{style:chipStyle,onClick:()=>createNode(item.nodeType,item.initialData),children:item.label},item.label))})]});}return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',height:'100vh'},children:[/*#__PURE__*/_jsxs(\"div\",{style:sidebarStyles,children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'20px'},children:\"Qual a intera\\xE7\\xE3o que deseja?\"}),categories.map(cat=>/*#__PURE__*/_jsx(CategoryBlock,{title:cat.title,items:cat.items},cat.title))]}),/*#__PURE__*/_jsx(\"div\",{style:flowContainerStyles,children:/*#__PURE__*/_jsxs(ReactFlow,{nodes:nodes,edges:edges,onNodesChange:onNodesChange,onEdgesChange:onEdgesChange,onConnect:onConnect,nodeTypes:nodeTypes,connectionLineStyle:{stroke:'#ddd',strokeWidth:2},snapToGrid:true,snapGrid:[15,15],isValidConnection:isValidConnection,children:[/*#__PURE__*/_jsx(MiniMap,{}),/*#__PURE__*/_jsx(Controls,{}),/*#__PURE__*/_jsx(Background,{color:\"#aaa\",gap:16})]})})]});}","map":{"version":3,"names":["React","useState","useCallback","ReactFlow","MiniMap","Controls","Background","Handle","useNodesState","useEdgesState","addEdge","jsx","_jsx","jsxs","_jsxs","sidebarStyles","width","backgroundColor","borderRadius","padding","margin","boxShadow","flowContainerStyles","flex","height","position","overflow","nodeStyles","base","border","minWidth","display","flexDirection","alignItems","input","section","select","deleteButton","background","color","cursor","justifyContent","marginTop","handleStyle","chipStyle","fontSize","MessageNode","memo","_ref","id","data","style","children","type","value","content","onChange","e","updateContent","target","placeholder","onClick","onDelete","QuestionNode","_ref2","handleOptionChange","index","newOptions","options","updateOptions","question","updateQuestion","map","opt","right","top","transform","addOption","MediaNode","_ref3","handleFileUpload","files","url","updateUrl","ConditionNode","_ref4","conditionType","updateConditionType","field","updateField","comparison","updateComparison","IntervalNode","_ref5","duration","updateDuration","min","max","ChatGPTNode","_ref6","apiKey","updateApiKey","instructions","updateInstructions","APINode","_ref7","method","updateMethod","headers","updateHeaders","body","updateBody","UpdateCRMNode","_ref8","entity","updateEntity","updateValue","CreateRecordNode","_ref9","stage","updateStage","fields","updateFields","TransferNode","_ref10","textAlign","ScheduleNode","_ref11","EndNode","_ref12","nodeTypes","message","media","condition","interval","chatgpt","api","updateCRM","createRecord","transfer","schedule","end","FlowEditor","nodes","setNodes","onNodesChange","edges","setEdges","onEdgesChange","idCounter","setIdCounter","onConnect","params","eds","isValidConnection","connection","sourceNode","find","node","source","hasExistingConnection","some","edge","deleteNode","nodeId","nds","filter","updateNode","newData","prevNodes","createNode","initialData","prev","updateFunctions","length","file","newNode","x","Math","random","y","categories","title","items","label","nodeType","CategoryBlock","_ref13","marginBottom","flexWrap","item","cat","connectionLineStyle","stroke","strokeWidth","snapToGrid","snapGrid","gap"],"sources":["C:/Users/marco/DocsImportantes/CLT/Bitrix24/ProjetoDragAndDrop/frontend/src/FlowEditor.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\r\nimport ReactFlow, {\r\n  MiniMap,\r\n  Controls,\r\n  Background,\r\n  Handle,\r\n  useNodesState,\r\n  useEdgesState,\r\n  addEdge\r\n} from 'react-flow-renderer';\r\n\r\n// =============== ESTILOS ===============\r\nconst sidebarStyles = {\r\n  width: '260px',\r\n  backgroundColor: '#fff',\r\n  borderRadius: '8px',\r\n  padding: '20px',\r\n  margin: '10px',\r\n  boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\r\n};\r\n\r\nconst flowContainerStyles = {\r\n  flex: 1,\r\n  height: '100%',\r\n  position: 'relative',\r\n  overflow: 'hidden'\r\n};\r\n\r\nconst nodeStyles = {\r\n  base: {\r\n    padding: '20px',\r\n    backgroundColor: '#fff',\r\n    borderRadius: '8px',\r\n    border: '2px solid #2684ff',\r\n    minWidth: '300px',\r\n    boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\r\n    position: 'relative',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n  },\r\n  input: {\r\n    margin: '10px 0',\r\n    padding: '8px',\r\n    width: '100%',\r\n    borderRadius: '4px',\r\n    border: '1px solid #ddd'\r\n  },\r\n  section: {\r\n    margin: '15px 0',\r\n    padding: '10px',\r\n    backgroundColor: '#f8f9fa',\r\n    borderRadius: '6px',\r\n    width: '100%'\r\n  },\r\n  select: {\r\n    width: '100%',\r\n    padding: '8px',\r\n    margin: '5px 0'\r\n  },\r\n  deleteButton: {\r\n    background: 'red',\r\n    color: 'white',\r\n    border: 'none',\r\n    borderRadius: '50%',\r\n    width: '24px',\r\n    height: '24px',\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginTop: '10px'\r\n  }\r\n};\r\n\r\nconst handleStyle = {\r\n  width: '15px',\r\n  height: '15px',\r\n  backgroundColor: '#2684ff',\r\n  border: '2px solid #fff',\r\n  borderRadius: '50%'\r\n};\r\n\r\nconst chipStyle = {\r\n  margin: '5px',\r\n  padding: '6px 12px',\r\n  border: '1px solid #ddd',\r\n  borderRadius: '20px',\r\n  background: '#f8f9fa',\r\n  cursor: 'pointer',\r\n  fontSize: '14px'\r\n};\r\n\r\n// =============== COMPONENTES DE N√ìS ===============\r\n\r\nconst MessageNode = React.memo(({ id, data }) => (\r\n  <div style={nodeStyles.base}>\r\n    <Handle type=\"target\" position=\"left\" style={handleStyle} />\r\n    <h4>üí¨ Mensagem</h4>\r\n    <textarea\r\n      style={{ ...nodeStyles.input, height: '100px' }}\r\n      value={data.content}\r\n      onChange={(e) => data.updateContent(e.target.value)}\r\n      placeholder=\"Escreva sua mensagem...\"\r\n    />\r\n    <button style={nodeStyles.deleteButton} onClick={() => data.onDelete(id)}>\r\n      üóëÔ∏è\r\n    </button>\r\n    <Handle type=\"source\" position=\"right\" style={handleStyle} />\r\n  </div>\r\n));\r\n\r\nconst QuestionNode = React.memo(({ id, data }) => {\r\n  const handleOptionChange = (index, value) => {\r\n    const newOptions = [...data.options];\r\n    newOptions[index] = value;\r\n    data.updateOptions(newOptions);\r\n  };\r\n\r\n  return (\r\n    <div style={nodeStyles.base}>\r\n      <Handle type=\"target\" position=\"left\" style={handleStyle} />\r\n      <h4>‚ùì Pergunta</h4>\r\n      <input\r\n        type=\"text\"\r\n        style={nodeStyles.input}\r\n        value={data.question}\r\n        onChange={(e) => data.updateQuestion(e.target.value)}\r\n        placeholder=\"Digite a pergunta\"\r\n      />\r\n      <div style={nodeStyles.section}>\r\n        <h5>Op√ß√µes de Resposta:</h5>\r\n        {data.options.map((opt, index) => (\r\n          <div key={index} style={{ margin: '5px 0', position: 'relative' }}>\r\n            <input\r\n              type=\"text\"\r\n              value={opt}\r\n              style={{ ...nodeStyles.input, width: '80%' }}\r\n              onChange={(e) => handleOptionChange(index, e.target.value)}\r\n            />\r\n            <Handle\r\n              type=\"source\"\r\n              position=\"right\"\r\n              id={`option-${index}`}\r\n              style={{\r\n                ...handleStyle,\r\n                right: '-8px',\r\n                top: '50%',\r\n                transform: 'translateY(-50%)'\r\n              }}\r\n            />\r\n          </div>\r\n        ))}\r\n        <button onClick={data.addOption}>+ Adicionar Op√ß√£o</button>\r\n      </div>\r\n      <button style={nodeStyles.deleteButton} onClick={() => data.onDelete(id)}>\r\n        üóëÔ∏è\r\n      </button>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst MediaNode = React.memo(({ id, data }) => (\r\n  <div style={nodeStyles.base}>\r\n    <Handle type=\"target\" position=\"left\" style={handleStyle} />\r\n    <h4>üñºÔ∏è M√≠dia</h4>\r\n    <input\r\n      type=\"file\"\r\n      onChange={(e) => data.handleFileUpload(e.target.files[0])}\r\n      style={nodeStyles.input}\r\n    />\r\n    <div style={nodeStyles.section}>\r\n      <h5>Ou insira URL:</h5>\r\n      <input\r\n        type=\"text\"\r\n        value={data.url}\r\n        onChange={(e) => data.updateUrl(e.target.value)}\r\n        placeholder=\"https://exemplo.com/imagem.jpg\"\r\n        style={nodeStyles.input}\r\n      />\r\n    </div>\r\n    <button style={nodeStyles.deleteButton} onClick={() => data.onDelete(id)}>\r\n      üóëÔ∏è\r\n    </button>\r\n    <Handle type=\"source\" position=\"right\" style={handleStyle} />\r\n  </div>\r\n));\r\n\r\nconst ConditionNode = React.memo(({ id, data }) => (\r\n  <div style={nodeStyles.base}>\r\n    <Handle type=\"target\" position=\"left\" style={handleStyle} />\r\n    <h4>‚öñÔ∏è Condi√ß√£o</h4>\r\n    <select\r\n      value={data.conditionType}\r\n      onChange={(e) => data.updateConditionType(e.target.value)}\r\n      style={nodeStyles.select}\r\n    >\r\n      <option value=\"cadastro\">Verificar Cadastro</option>\r\n      <option value=\"valor\">Comparar Valores</option>\r\n    </select>\r\n\r\n    {data.conditionType === 'cadastro' && (\r\n      <div style={nodeStyles.section}>\r\n        <input\r\n          type=\"text\"\r\n          value={data.field}\r\n          onChange={(e) => data.updateField(e.target.value)}\r\n          placeholder=\"Campo para verifica√ß√£o (ex: PHONE)\"\r\n          style={nodeStyles.input}\r\n        />\r\n      </div>\r\n    )}\r\n\r\n    {data.conditionType === 'valor' && (\r\n      <div style={nodeStyles.section}>\r\n        <input\r\n          type=\"text\"\r\n          value={data.comparison}\r\n          onChange={(e) => data.updateComparison(e.target.value)}\r\n          placeholder=\"Express√£o (ex: VALUE > 100)\"\r\n          style={nodeStyles.input}\r\n        />\r\n      </div>\r\n    )}\r\n\r\n    <button style={nodeStyles.deleteButton} onClick={() => data.onDelete(id)}>\r\n      üóëÔ∏è\r\n    </button>\r\n    <Handle\r\n      type=\"source\"\r\n      position=\"right\"\r\n      id=\"true\"\r\n      style={{ ...handleStyle, top: '30%' }}\r\n    />\r\n    <Handle\r\n      type=\"source\"\r\n      position=\"right\"\r\n      id=\"false\"\r\n      style={{ ...handleStyle, top: '70%' }}\r\n    />\r\n  </div>\r\n));\r\n\r\nconst IntervalNode = React.memo(({ id, data }) => (\r\n  <div style={nodeStyles.base}>\r\n    <Handle type=\"target\" position=\"left\" style={handleStyle} />\r\n    <h4>‚è±Ô∏è Intervalo</h4>\r\n    <div style={nodeStyles.section}>\r\n      <input\r\n        type=\"number\"\r\n        value={data.duration}\r\n        onChange={(e) => data.updateDuration(e.target.value)}\r\n        placeholder=\"Dura√ß√£o em segundos\"\r\n        min=\"1\"\r\n        max=\"7200\"\r\n        style={nodeStyles.input}\r\n      />\r\n      <small>M√°ximo: 2 horas (7200 segundos)</small>\r\n    </div>\r\n    <button style={nodeStyles.deleteButton} onClick={() => data.onDelete(id)}>\r\n      üóëÔ∏è\r\n    </button>\r\n    <Handle type=\"source\" position=\"right\" style={handleStyle} />\r\n  </div>\r\n));\r\n\r\nconst ChatGPTNode = React.memo(({ id, data }) => (\r\n  <div style={nodeStyles.base}>\r\n    <Handle type=\"target\" position=\"left\" style={handleStyle} />\r\n    <h4>ü§ñ Chat GPT</h4>\r\n    <input\r\n      type=\"password\"\r\n      value={data.apiKey}\r\n      onChange={(e) => data.updateApiKey(e.target.value)}\r\n      placeholder=\"Insira sua API Key da OpenAI\"\r\n      style={nodeStyles.input}\r\n    />\r\n    <textarea\r\n      value={data.instructions}\r\n      onChange={(e) => data.updateInstructions(e.target.value)}\r\n      placeholder=\"Instru√ß√µes para o assistente...\"\r\n      style={{ ...nodeStyles.input, height: '100px' }}\r\n    />\r\n    <button style={nodeStyles.deleteButton} onClick={() => data.onDelete(id)}>\r\n      üóëÔ∏è\r\n    </button>\r\n    <Handle type=\"source\" position=\"right\" style={handleStyle} />\r\n  </div>\r\n));\r\n\r\nconst APINode = React.memo(({ id, data }) => (\r\n  <div style={nodeStyles.base}>\r\n    <Handle type=\"target\" position=\"left\" style={handleStyle} />\r\n    <h4>üåê API Externa</h4>\r\n    <div style={nodeStyles.section}>\r\n      <select\r\n        value={data.method}\r\n        onChange={(e) => data.updateMethod(e.target.value)}\r\n        style={nodeStyles.select}\r\n      >\r\n        <option value=\"GET\">GET</option>\r\n        <option value=\"POST\">POST</option>\r\n        <option value=\"PUT\">PUT</option>\r\n        <option value=\"DELETE\">DELETE</option>\r\n      </select>\r\n      <input\r\n        type=\"text\"\r\n        value={data.url}\r\n        onChange={(e) => data.updateUrl(e.target.value)}\r\n        placeholder=\"URL da API\"\r\n        style={nodeStyles.input}\r\n      />\r\n    </div>\r\n\r\n    <div style={nodeStyles.section}>\r\n      <h5>Cabe√ßalhos:</h5>\r\n      <textarea\r\n        value={data.headers}\r\n        onChange={(e) => data.updateHeaders(e.target.value)}\r\n        placeholder=\"JSON de cabe√ßalhos\"\r\n        style={{ ...nodeStyles.input, height: '80px' }}\r\n      />\r\n    </div>\r\n\r\n    <div style={nodeStyles.section}>\r\n      <h5>Corpo da Requisi√ß√£o:</h5>\r\n      <textarea\r\n        value={data.body}\r\n        onChange={(e) => data.updateBody(e.target.value)}\r\n        placeholder=\"JSON do corpo\"\r\n        style={{ ...nodeStyles.input, height: '100px' }}\r\n      />\r\n    </div>\r\n    <button style={nodeStyles.deleteButton} onClick={() => data.onDelete(id)}>\r\n      üóëÔ∏è\r\n    </button>\r\n    <Handle type=\"source\" position=\"right\" style={handleStyle} />\r\n  </div>\r\n));\r\n\r\nconst UpdateCRMNode = React.memo(({ id, data }) => (\r\n  <div style={nodeStyles.base}>\r\n    <Handle type=\"target\" position=\"left\" style={handleStyle} />\r\n    <h4>üîÑ Atualizar CRM</h4>\r\n    <div style={nodeStyles.section}>\r\n      <select\r\n        value={data.entity}\r\n        onChange={(e) => data.updateEntity(e.target.value)}\r\n        style={nodeStyles.select}\r\n      >\r\n        <option value=\"lead\">Lead</option>\r\n        <option value=\"deal\">Neg√≥cio</option>\r\n        <option value=\"contact\">Contato</option>\r\n        <option value=\"company\">Empresa</option>\r\n      </select>\r\n\r\n      <input\r\n        type=\"text\"\r\n        value={data.field}\r\n        onChange={(e) => data.updateField(e.target.value)}\r\n        placeholder=\"Campo para atualizar\"\r\n        style={nodeStyles.input}\r\n      />\r\n\r\n      <input\r\n        type=\"text\"\r\n        value={data.value}\r\n        onChange={(e) => data.updateValue(e.target.value)}\r\n        placeholder=\"Novo valor\"\r\n        style={nodeStyles.input}\r\n      />\r\n    </div>\r\n    <button style={nodeStyles.deleteButton} onClick={() => data.onDelete(id)}>\r\n      üóëÔ∏è\r\n    </button>\r\n    <Handle type=\"source\" position=\"right\" style={handleStyle} />\r\n  </div>\r\n));\r\n\r\nconst CreateRecordNode = React.memo(({ id, data }) => (\r\n  <div style={nodeStyles.base}>\r\n    <Handle type=\"target\" position=\"left\" style={handleStyle} />\r\n    <h4>üìù Criar Cadastro</h4>\r\n    <div style={nodeStyles.section}>\r\n      <select\r\n        value={data.entity}\r\n        onChange={(e) => data.updateEntity(e.target.value)}\r\n        style={nodeStyles.select}\r\n      >\r\n        <option value=\"lead\">Lead</option>\r\n        <option value=\"deal\">Neg√≥cio</option>\r\n        <option value=\"contact\">Contato</option>\r\n        <option value=\"company\">Empresa</option>\r\n      </select>\r\n\r\n      <select\r\n        value={data.stage}\r\n        onChange={(e) => data.updateStage(e.target.value)}\r\n        style={nodeStyles.select}\r\n      >\r\n        <option value=\"new\">Novo</option>\r\n        <option value=\"qualified\">Qualificado</option>\r\n        <option value=\"proposal\">Proposta</option>\r\n        <option value=\"closed\">Fechado</option>\r\n      </select>\r\n\r\n      <textarea\r\n        value={data.fields}\r\n        onChange={(e) => data.updateFields(e.target.value)}\r\n        placeholder=\"Campos (JSON)\"\r\n        style={{ ...nodeStyles.input, height: '150px' }}\r\n      />\r\n    </div>\r\n    <button style={nodeStyles.deleteButton} onClick={() => data.onDelete(id)}>\r\n      üóëÔ∏è\r\n    </button>\r\n    <Handle type=\"source\" position=\"right\" style={handleStyle} />\r\n  </div>\r\n));\r\n\r\nconst TransferNode = React.memo(({ id, data }) => (\r\n  <div style={nodeStyles.base}>\r\n    <Handle type=\"target\" position=\"left\" style={handleStyle} />\r\n    <h4>üîÄ Transferir</h4>\r\n    <p style={{ textAlign: 'center' }}>Exemplo de n√≥ de transfer√™ncia</p>\r\n    <button style={nodeStyles.deleteButton} onClick={() => data.onDelete(id)}>\r\n      üóëÔ∏è\r\n    </button>\r\n    <Handle type=\"source\" position=\"right\" style={handleStyle} />\r\n  </div>\r\n));\r\n\r\nconst ScheduleNode = React.memo(({ id, data }) => (\r\n  <div style={nodeStyles.base}>\r\n    <Handle type=\"target\" position=\"left\" style={handleStyle} />\r\n    <h4>‚è∞ Hor√°rio</h4>\r\n    <p style={{ textAlign: 'center' }}>Exemplo de n√≥ de agendamento</p>\r\n    <button style={nodeStyles.deleteButton} onClick={() => data.onDelete(id)}>\r\n      üóëÔ∏è\r\n    </button>\r\n    <Handle type=\"source\" position=\"right\" style={handleStyle} />\r\n  </div>\r\n));\r\n\r\nconst EndNode = React.memo(({ id, data }) => (\r\n  <div style={nodeStyles.base}>\r\n    <Handle type=\"target\" position=\"left\" style={handleStyle} />\r\n    <h4>üèÅ Finalizar</h4>\r\n    <p style={{ textAlign: 'center' }}>Exemplo de n√≥ de finaliza√ß√£o</p>\r\n    <button style={nodeStyles.deleteButton} onClick={() => data.onDelete(id)}>\r\n      üóëÔ∏è\r\n    </button>\r\n    <Handle type=\"source\" position=\"right\" style={handleStyle} />\r\n  </div>\r\n));\r\n\r\nconst nodeTypes = {\r\n  message: MessageNode,\r\n  question: QuestionNode,\r\n  media: MediaNode,\r\n  condition: ConditionNode,\r\n  interval: IntervalNode,\r\n  chatgpt: ChatGPTNode,\r\n  api: APINode,\r\n  updateCRM: UpdateCRMNode,\r\n  createRecord: CreateRecordNode,\r\n  transfer: TransferNode,\r\n  schedule: ScheduleNode,\r\n  end: EndNode\r\n};\r\n\r\nexport default function FlowEditor() {\r\n  const [nodes, setNodes, onNodesChange] = useNodesState([]);\r\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\r\n  const [idCounter, setIdCounter] = useState(0);\r\n\r\n  const onConnect = useCallback(\r\n    (params) => setEdges((eds) => addEdge(params, eds)),\r\n    [setEdges]\r\n  );\r\n\r\n  const isValidConnection = useCallback(\r\n    (connection) => {\r\n      const sourceNode = nodes.find((node) => node.id === connection.source);\r\n      if (sourceNode?.type === 'question' || sourceNode?.type === 'condition') {\r\n        return true;\r\n      }\r\n      const hasExistingConnection = edges.some(\r\n        (edge) => edge.source === connection.source\r\n      );\r\n      return !hasExistingConnection;\r\n    },\r\n    [nodes, edges]\r\n  );\r\n\r\n  const deleteNode = useCallback(\r\n    (nodeId) => {\r\n      setNodes((nds) => nds.filter((node) => node.id !== nodeId));\r\n      setEdges((eds) =>\r\n        eds.filter((edge) => edge.source !== nodeId && edge.target !== nodeId)\r\n      );\r\n    },\r\n    [setNodes, setEdges]\r\n  );\r\n\r\n  const updateNode = useCallback(\r\n    (nodeId, newData) => {\r\n      setNodes((prevNodes) =>\r\n        prevNodes.map((node) =>\r\n          node.id === nodeId\r\n            ? { ...node, data: { ...node.data, ...newData } }\r\n            : node\r\n        )\r\n      );\r\n    },\r\n    [setNodes]\r\n  );\r\n\r\n  const createNode = useCallback(\r\n    (type, initialData) => {\r\n      const nodeId = `${type}-${idCounter}`;\r\n      setIdCounter((prev) => prev + 1);\r\n\r\n      const updateFunctions = {\r\n        message: {\r\n          updateContent: (content) => updateNode(nodeId, { content }),\r\n          onDelete: deleteNode\r\n        },\r\n        question: {\r\n          updateQuestion: (question) => updateNode(nodeId, { question }),\r\n          addOption: () => {\r\n            setNodes((prevNodes) =>\r\n              prevNodes.map((node) =>\r\n                node.id === nodeId\r\n                  ? {\r\n                      ...node,\r\n                      data: {\r\n                        ...node.data,\r\n                        options: [\r\n                          ...(node.data.options || []),\r\n                          `Op√ß√£o ${\r\n                            node.data.options ? node.data.options.length + 1 : 1\r\n                          }`\r\n                        ]\r\n                      }\r\n                    }\r\n                  : node\r\n              )\r\n            );\r\n          },\r\n          updateOptions: (options) => updateNode(nodeId, { options }),\r\n          onDelete: deleteNode\r\n        },\r\n        media: {\r\n          handleFileUpload: (file) => updateNode(nodeId, { file }),\r\n          updateUrl: (url) => updateNode(nodeId, { url }),\r\n          onDelete: deleteNode\r\n        },\r\n        condition: {\r\n          updateConditionType: (conditionType) =>\r\n            updateNode(nodeId, { conditionType }),\r\n          updateField: (field) => updateNode(nodeId, { field }),\r\n          updateComparison: (comparison) => updateNode(nodeId, { comparison }),\r\n          onDelete: deleteNode\r\n        },\r\n        interval: {\r\n          updateDuration: (duration) => updateNode(nodeId, { duration }),\r\n          onDelete: deleteNode\r\n        },\r\n        chatgpt: {\r\n          updateApiKey: (apiKey) => updateNode(nodeId, { apiKey }),\r\n          updateInstructions: (instructions) =>\r\n            updateNode(nodeId, { instructions }),\r\n          onDelete: deleteNode\r\n        },\r\n        api: {\r\n          updateMethod: (method) => updateNode(nodeId, { method }),\r\n          updateUrl: (url) => updateNode(nodeId, { url }),\r\n          updateHeaders: (headers) => updateNode(nodeId, { headers }),\r\n          updateBody: (body) => updateNode(nodeId, { body }),\r\n          onDelete: deleteNode\r\n        },\r\n        updateCRM: {\r\n          updateEntity: (entity) => updateNode(nodeId, { entity }),\r\n          updateField: (field) => updateNode(nodeId, { field }),\r\n          updateValue: (value) => updateNode(nodeId, { value }),\r\n          onDelete: deleteNode\r\n        },\r\n        createRecord: {\r\n          updateEntity: (entity) => updateNode(nodeId, { entity }),\r\n          updateStage: (stage) => updateNode(nodeId, { stage }),\r\n          updateFields: (fields) => updateNode(nodeId, { fields }),\r\n          onDelete: deleteNode\r\n        },\r\n        transfer: {\r\n          onDelete: deleteNode\r\n        },\r\n        schedule: {\r\n          onDelete: deleteNode\r\n        },\r\n        end: {\r\n          onDelete: deleteNode\r\n        }\r\n      };\r\n\r\n      const newNode = {\r\n        id: nodeId,\r\n        type,\r\n        data: { ...initialData, ...updateFunctions[type] },\r\n        position: { x: Math.random() * 400, y: Math.random() * 400 }\r\n      };\r\n\r\n      setNodes((nds) => [...nds, newNode]);\r\n    },\r\n    [idCounter, updateNode, deleteNode, setNodes]\r\n  );\r\n\r\n  const categories = [\r\n    {\r\n      title: 'Conversa',\r\n      items: [\r\n        { label: 'Mensagem', nodeType: 'message', initialData: { content: '' } },\r\n        {\r\n          label: 'Pergunta',\r\n          nodeType: 'question',\r\n          initialData: { question: '', options: [] }\r\n        },\r\n        { label: 'M√≠dia', nodeType: 'media', initialData: { url: '' } }\r\n      ]\r\n    },\r\n    {\r\n      title: 'A√ß√µes do chat',\r\n      items: [\r\n        {\r\n          label: 'Condi√ß√£o',\r\n          nodeType: 'condition',\r\n          initialData: {\r\n            conditionType: 'cadastro',\r\n            field: '',\r\n            comparison: ''\r\n          }\r\n        },\r\n        { label: 'Transferir', nodeType: 'transfer', initialData: {} },\r\n        { label: 'Hor√°rio', nodeType: 'schedule', initialData: {} },\r\n        { label: 'Finalizar', nodeType: 'end', initialData: {} },\r\n        { label: 'Intervalo', nodeType: 'interval', initialData: { duration: 1 } }\r\n      ]\r\n    },\r\n    {\r\n      title: 'Integra√ß√µes',\r\n      items: [\r\n        {\r\n          label: 'Chat GPT',\r\n          nodeType: 'chatgpt',\r\n          initialData: { apiKey: '', instructions: '' }\r\n        },\r\n        {\r\n          label: 'API Externa',\r\n          nodeType: 'api',\r\n          initialData: { method: 'GET', url: '', headers: '', body: '' }\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      title: 'Bitrix',\r\n      items: [\r\n        {\r\n          label: 'Atualizar CRM',\r\n          nodeType: 'updateCRM',\r\n          initialData: { entity: 'lead', field: '', value: '' }\r\n        },\r\n        {\r\n          label: 'Criar Cadastro',\r\n          nodeType: 'createRecord',\r\n          initialData: { entity: 'lead', stage: 'new', fields: '' }\r\n        }\r\n      ]\r\n    }\r\n  ];\r\n\r\n  function CategoryBlock({ title, items }) {\r\n    return (\r\n      <div style={{ marginBottom: '20px' }}>\r\n        <h4 style={{ marginBottom: '10px' }}>{title}</h4>\r\n        <div style={{ display: 'flex', flexWrap: 'wrap' }}>\r\n          {items.map((item) => (\r\n            <button\r\n              key={item.label}\r\n              style={chipStyle}\r\n              onClick={() => createNode(item.nodeType, item.initialData)}\r\n            >\r\n              {item.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ display: 'flex', height: '100vh' }}>\r\n      {/* SIDEBAR */}\r\n      <div style={sidebarStyles}>\r\n        <h3 style={{ marginBottom: '20px' }}>Qual a intera√ß√£o que deseja?</h3>\r\n\r\n        {categories.map((cat) => (\r\n          <CategoryBlock key={cat.title} title={cat.title} items={cat.items} />\r\n        ))}\r\n      </div>\r\n\r\n      {/* √ÅREA DO FLUXO */}\r\n      <div style={flowContainerStyles}>\r\n        <ReactFlow\r\n          nodes={nodes}\r\n          edges={edges}\r\n          onNodesChange={onNodesChange}\r\n          onEdgesChange={onEdgesChange}\r\n          onConnect={onConnect}\r\n          nodeTypes={nodeTypes}\r\n          connectionLineStyle={{ stroke: '#ddd', strokeWidth: 2 }}\r\n          snapToGrid={true}\r\n          snapGrid={[15, 15]}\r\n          isValidConnection={isValidConnection}\r\n        >\r\n          <MiniMap />\r\n          <Controls />\r\n          <Background color=\"#aaa\" gap={16} />\r\n        </ReactFlow>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}